<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="LOKA PRO">
    <link rel="apple-touch-icon" href="https://ui-avatars.com/api/?name=L&background=1a73e8&color=fff&size=512">

    <title>LOKA PRO</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root { --primary: #1a73e8; --dark: #0a0a0a; --card: #1c1c1e; }
        body { 
            margin: 0; 
            font-family: -apple-system, system-ui, sans-serif; 
            background: var(--dark); 
            color: white; 
            overflow: hidden;
            height: 100vh;
            /* Ù…Ù†Ø¹ Ø§Ù„Ø³Ø­Ø¨ Ù„Ø£Ø³ÙÙ„ Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
            overscroll-behavior-y: contain;
        }
        
        /* ØªØµÙ…ÙŠÙ… ÙŠØ±Ø§Ø¹ÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ÙˆØªØ´ ÙÙŠ Ø§Ù„Ø£ÙŠÙÙˆÙ† */
        .main-header { padding: env(safe-area-inset-top) 20px 20px; text-align: center; }
        .logo { font-size: 35px; font-weight: bold; color: var(--primary); margin-top: 20px; }
        
        .main-menu { display: grid; gap: 15px; padding: 20px; }
        .menu-item { background: var(--card); padding: 25px; border-radius: 20px; display: flex; align-items: center; gap: 15px; font-size: 20px; border: 1px solid #333; }

        #map { height: 100vh; width: 100%; }
        .status-card { position: absolute; bottom: calc(30px + env(safe-area-inset-bottom)); left: 15px; right: 15px; background: var(--card); padding: 20px; border-radius: 20px; z-index: 1000; }
        
        .screen { height: 100vh; width: 100vw; transition: 0.5s ease; position: absolute; top:0; left:0; }
        .hidden { transform: translateX(100%); opacity: 0; }
    </style>
</head>
<body>

    <div id="home" class="screen">
        <div class="main-header">
            <div class="logo">LOKA <span>PRO</span></div>
            <p style="color: #888;">Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù†Ù‚Ù„ ÙÙŠ Ø¬Ø§Ø²Ø§Ù†</p>
        </div>
        <div class="main-menu">
            <div class="menu-item" onclick="goToMap()">ğŸš› <span>Ø£Ø·Ù„Ø¨ Ø£Ù‚Ø±Ø¨ Ø®Ø¯Ù…Ø©</span></div>
            <div class="menu-item" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹')">ğŸ“¦ <span>Ø·Ù„Ø¨Ø§ØªÙŠ</span></div>
        </div>
    </div>

    <div id="map-screen" class="screen hidden">
        <div id="map"></div>
        <div class="status-card">
            <div id="searching">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† ÙƒØ§Ø¨ØªÙ†...</div>
            <button onclick="location.reload()" style="width:100%; background:none; border:none; color:red; margin-top:15px;">Ø¥Ù„ØºØ§Ø¡</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        function goToMap() {
            document.getElementById('home').classList.add('hidden');
            document.getElementById('map-screen').classList.remove('hidden');
            let map = L.map('map', {zoomControl: false}).setView([16.8892, 42.5511], 13);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);
        }
    </script>
</body>
</html>
