<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>LOKA PRO | Ù„ÙˆÙƒØ§ Ø¨Ø±Ùˆ</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        :root { --primary: #007aff; --secondary: #5856d6; --success: #34c759; --danger: #ff3b30; --bg: #050505; --card: #121212; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: -apple-system, system-ui, sans-serif; }
        body { margin: 0; background: var(--bg); color: white; overflow: hidden; height: 100vh; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙØ®Ù…Ø© */
        #splash { position: fixed; inset: 0; background: #000; z-index: 10000; display: flex; align-items: center; justify-content: center; transition: 0.8s; }
        .logo-vibe { font-size: 45px; font-weight: 900; letter-spacing: -2px; text-shadow: 0 0 20px rgba(0,122,255,0.5); }
        .logo-vibe span { color: var(--primary); }

        /* Ø§Ù„Ø´Ø§Ø´Ø§Øª */
        .screen { position: absolute; inset: 0; display: flex; flex-direction: column; background: var(--bg); padding-top: env(safe-area-inset-top); transition: 0.5s cubic-bezier(0.4, 0, 0.2, 1); z-index: 5; }
        .hidden { transform: scale(0.9); opacity: 0; pointer-events: none; }

        /* Ø§Ù„Ø®Ø±ÙŠØ·Ø© */
        #map { flex: 1; z-index: 1; }

        /* Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù„ÙˆÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ (Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ÙÙ„ØªØ±Ø©) */
        .top-nav { position: absolute; top: calc(20px + env(safe-area-inset-top)); left: 15px; right: 15px; z-index: 1000; }
        .search-bar { background: var(--card); border: 1px solid rgba(255,255,255,0.1); padding: 12px 20px; border-radius: 100px; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }

        /* Ù†Ø¸Ø§Ù… Ø§Ù„ÙØ¦Ø§Øª (Ø£ÙÙ‚ÙŠ) */
        .category-scroller { display: flex; overflow-x: auto; gap: 10px; padding: 15px; scrollbar-width: none; background: linear-gradient(to bottom, rgba(0,0,0,0.8), transparent); z-index: 1000; }
        .cat-item { flex: 0 0 auto; background: var(--card); padding: 10px 20px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; font-size: 13px; font-weight: 600; }
        .cat-item.active { background: var(--primary); color: white; border-color: var(--primary); }

        /* Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø³Ø­Ø¨ Ø§Ù„Ø³ÙÙ„ÙŠØ© (Ù…Ø«Ù„ Ø£ÙˆØ¨Ø±) */
        .bottom-drawer { position: absolute; bottom: 0; left: 0; right: 0; background: var(--card); border-radius: 30px 30px 0 0; z-index: 1001; padding: 20px; padding-bottom: calc(20px + env(safe-area-inset-bottom)); border-top: 1px solid rgba(255,255,255,0.1); transform: translateY(0); transition: 0.5s; }
        .handle { width: 40px; height: 5px; background: #333; border-radius: 10px; margin: -10px auto 20px; }

        /* Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© ÙˆØ§Ù„Ù…Ø²Ø§ÙŠØ¯Ø© */
        .bid-card { background: rgba(255,255,255,0.03); border-radius: 20px; padding: 15px; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.05); }
        .price-badge { background: var(--success); color: black; padding: 4px 10px; border-radius: 8px; font-weight: 800; font-size: 14px; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tab-bar { height: 75px; background: rgba(10,10,10,0.95); backdrop-filter: blur(20px); display: flex; justify-content: space-around; align-items: center; border-top: 1px solid #222; padding-bottom: env(safe-area-inset-bottom); }
        .tab { color: #555; text-align: center; flex: 1; transition: 0.3s; font-size: 20px; }
        .tab.active { color: var(--primary); }
        .tab span { display: block; font-size: 10px; margin-top: 4px; }

        /* Ø²Ø± Ø§Ù„ÙØ²Ø¹Ø© */
        .btn-fazaa { background: var(--danger); color: white; padding: 18px; border-radius: 20px; width: 100%; border: none; font-weight: 900; font-size: 18px; box-shadow: 0 0 20px rgba(255,59,48,0.3); }
        
        input, select { background: #1a1a1a; border: 1px solid #333; color: white; padding: 15px; border-radius: 15px; width: 100%; margin-bottom: 10px; }
    </style>
</head>
<body>

    <div id="splash">
        <div class="logo-vibe">LOKA<span>PRO</span></div>
    </div>

    <div id="scr-home" class="screen">
        <div class="top-nav">
            <div class="search-bar">
                <span>ğŸ“ Ø¥Ù„Ù‰ Ø£ÙŠÙ† ØªØ±ÙŠØ¯ Ø§Ù„Ù†Ù‚Ù„ØŸ</span>
                <div style="width:30px; height:30px; background:var(--primary); border-radius:50%;"></div>
            </div>
        </div>

        <div class="category-scroller">
            <div class="cat-item active">ğŸï¸ Ø³Ø·Ø­Ø©</div>
            <div class="cat-item">ğŸ“¦ Ù†Ù‚Ù„ Ø¹ÙØ´</div>
            <div class="cat-item">ğŸ—ï¸ Ù…Ø¹Ø¯Ø§Øª Ø«Ù‚ÙŠÙ„Ø©</div>
            <div class="cat-item">ğŸš› ØªØ±ÙŠÙ„Ø§Øª</div>
            <div class="cat-item">ğŸ› ï¸ ÙØ²Ø¹Ø© Ø·Ø±ÙŠÙ‚</div>
        </div>

        <div id="map"></div>

        <div class="bottom-drawer" id="home-drawer">
            <div class="handle"></div>
            <div style="display:flex; justify-content:space-between; margin-bottom:15px;">
                <b style="font-size:18px;">Ø§Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</b>
                <span style="color:var(--primary)">Ø®Ø¯Ù…Ø© 24 Ø³Ø§Ø¹Ø©</span>
            </div>
            <button class="btn-fazaa" onclick="requestNow()">Ø£Ø±Ø³Ù„ Ø·Ù„Ø¨ ÙØ²Ø¹Ø© ÙÙˆØ±ÙŠØ©</button>
            <p style="text-align:center; font-size:12px; color:#555; margin-top:10px;">Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ù„Ø£Ù‚Ø±Ø¨ 10 ÙƒØ¨Ø§ØªÙ†</p>
        </div>

        <nav class="tab-bar">
            <div class="tab active">ğŸ <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
            <div class="tab" onclick="showScr('scr-orders')">ğŸ“¦<span>Ø·Ù„Ø¨Ø§ØªÙŠ</span></div>
            <div class="tab" onclick="showScr('scr-chat')">ğŸ’¬<span>Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª</span></div>
            <div class="tab" onclick="showScr('scr-profile')">ğŸ‘¤<span>Ø­Ø³Ø§Ø¨ÙŠ</span></div>
        </nav>
    </div>

    <div id="scr-chat" class="screen hidden">
        <div style="padding:20px; border-bottom:1px solid #222; display:flex; justify-content:space-between; align-items:center;">
            <h2 style="margin:0;">Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</h2>
            <button onclick="showScr('scr-home')" style="background:none; border:none; color:var(--primary);">Ø¥ØºÙ„Ø§Ù‚</button>
        </div>
        <div style="flex:1; padding:15px; overflow-y:auto;">
            <div class="bid-card">
                <div style="display:flex; justify-content:space-between; align-items:start;">
                    <div style="display:flex; gap:10px;">
                        <div style="width:45px; height:45px; background:var(--primary); border-radius:12px; display:flex; align-items:center; justify-content:center;">ğŸ‘¤</div>
                        <div>
                            <b>Ù…Ø­Ù…Ø¯ Ø§Ù„Ù‚Ø­Ø·Ø§Ù†ÙŠ</b><br>
                            <small>â­ 4.9 | ğŸšš Ø³Ø·Ø­Ø© Ù‡ÙŠØ¯Ø±ÙˆÙ„ÙŠÙƒ</small>
                        </div>
                    </div>
                    <div class="price-badge">120 Ø±ÙŠØ§Ù„</div>
                </div>
                <div style="display:flex; gap:10px; margin-top:15px;">
                    <button style="flex:1; background:var(--primary); border:none; padding:10px; border-radius:10px; color:white; font-weight:bold;" onclick="alert('ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶! Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ù„Ù„Ø¯Ø±Ø¯Ø´Ø©...')">Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¹Ø±Ø¶</button>
                    <button style="flex:1; background:#222; border:none; padding:10px; border-radius:10px; color:white;" onclick="alert('ØªÙ… Ø±ÙØ¶ Ø§Ù„Ø¹Ø±Ø¶')">Ø±ÙØ¶</button>
                </div>
            </div>
        </div>
    </div>

    <div id="scr-profile" class="screen hidden">
        <div style="padding:40px 20px; text-align:center;">
            <div style="width:100px; height:100px; border-radius:50%; background:var(--card); margin:0 auto 15px; border:3px solid var(--primary); display:flex; align-items:center; justify-content:center; font-size:40px;">ğŸ‘¤</div>
            <h2 style="margin:0;">Ø®Ø§Ù„Ø¯ Ø¨Ù† Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</h2>
            <p style="color:var(--success)">âœ… Ø­Ø³Ø§Ø¨ Ù…ÙˆØ«Ù‚ (Ù†ÙØ§Ø°)</p>
        </div>
        
        <div style="padding:0 20px;">
            <div style="background:var(--card); border-radius:20px; padding:10px;">
                <div style="padding:15px; border-bottom:1px solid #222; display:flex; justify-content:space-between;">Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø±ØµÙŠØ¯ <b>140.00 Ø±.Ø³</b></div>
                <div style="padding:15px; border-bottom:1px solid #222; display:flex; justify-content:space-between;">ØªØºÙŠÙŠØ± Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙˆØ±Ø© <span>â€º</span></div>
                <div style="padding:15px; border-bottom:1px solid #222; display:flex; justify-content:space-between;">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† <span>â€º</span></div>
                <div style="padding:15px; border-bottom:1px solid #222; display:flex; justify-content:space-between;">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø­Ù‚ÙˆÙ‚ ÙˆØ§Ù„Ø®ØµÙˆØµÙŠØ© <span>ğŸ”’</span></div>
                <div style="padding:15px; color:var(--danger);" onclick="location.reload()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ ğŸšª</div>
            </div>
        </div>
        
        <div class="tab-bar" style="margin-top:auto;">
            <div class="tab" onclick="showScr('scr-home')">ğŸ <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></div>
            <div class="tab">ğŸ“¦<span>Ø·Ù„Ø¨Ø§ØªÙŠ</span></div>
            <div class="tab">ğŸ’¬<span>Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª</span></div>
            <div class="tab active">ğŸ‘¤<span>Ø­Ø³Ø§Ø¨ÙŠ</span></div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        window.onload = () => {
            setTimeout(() => {
                document.getElementById('splash').style.opacity = '0';
                setTimeout(() => {
                    document.getElementById('splash').style.display = 'none';
                    initMap();
                }, 800);
            }, 2500);
        };

        function showScr(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
        }

        let map;
        function initMap() {
            if(map) return;
            map = L.map('map', { zoomControl: false }).setView([24.7136, 46.6753], 13);
            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png').addTo(map);

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos => {
                    const lat = pos.coords.latitude;
                    const lng = pos.coords.longitude;
                    map.setView([lat, lng], 14);
                    L.circleMarker([lat, lng], { radius: 12, color: '#fff', fillColor: '#007aff', fillOpacity: 1, weight: 4 }).addTo(map);
                });
            }
        }

        function requestNow() {
            const btn = document.querySelector('.btn-fazaa');
            btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙØ²Ø¹Ø©...";
            btn.style.background = "#555";
            setTimeout(() => {
                showScr('scr-chat');
                alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ! ØªØ±Ù‚Ø¨ ÙˆØµÙˆÙ„ Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ù† Ø§Ù„ÙƒØ¨Ø§ØªÙ† Ø§Ù„Ø¢Ù†.");
                btn.innerText = "Ø£Ø±Ø³Ù„ Ø·Ù„Ø¨ ÙØ²Ø¹Ø© ÙÙˆØ±ÙŠØ©";
                btn.style.background = "var(--danger)";
            }, 2000);
        }

        // Ù…Ù†Ø¹ Ø§Ù„ØªÙØ§Ø¹Ù„ ØºÙŠØ± Ø§Ù„Ù…Ø±ØºÙˆØ¨ ÙÙŠÙ‡ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
        document.addEventListener('touchmove', (e) => {
            if (!e.target.closest('#scr-chat') && !e.target.closest('#scr-profile')) {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>
